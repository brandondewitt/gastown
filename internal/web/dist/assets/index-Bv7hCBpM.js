(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ut=!1;var kn=Array.isArray,Ar=Array.prototype.indexOf,kt=Array.from,qr=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyDescriptors,Tr=Object.prototype,Rr=Array.prototype,Kt=Object.getPrototypeOf,cn=Object.isExtensible;function Ir(e){return e()}function jt(e){for(var t=0;t<e.length;t++)e[t]()}function qn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const M=2,Tn=4,At=8,Cr=1<<24,ue=16,ce=32,Re=64,qt=128,Q=512,F=1024,$=2048,ie=4096,B=8192,me=16384,Jt=32768,Fe=65536,vn=1<<17,Rn=1<<18,Ue=1<<19,In=1<<20,ge=1<<25,Ae=32768,$t=1<<21,Xt=1<<22,we=1<<23,nt=Symbol("$state"),Oe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Nr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Or(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Fr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Pr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Lr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ur(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function jr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const $r=1,Hr=2,Br=16,Vr=1,Gr=2,D=Symbol(),zr="http://www.w3.org/1999/xhtml";function Yr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Cn(e){return e===this.v}function Kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nn(e){return!Kr(e,this.v)}let lt=!1,Jr=!1;function Xr(){lt=!0}let k=null;function Pe(e){k=e}function On(e,t=!1,n){k={p:k,i:!1,c:null,e:null,s:e,x:null,l:lt&&!t?{s:null,u:null,$:[]}:null}}function Mn(e){var t=k,n=t.e;if(n!==null){t.e=null;for(var r of n)Kn(r)}return t.i=!0,k=t.p,{}}function at(){return!lt||k!==null&&k.l===null}let Me=[];function Zr(){var e=Me;Me=[],jt(e)}function Tt(e){if(Me.length===0){var t=Me;queueMicrotask(()=>{t===Me&&Zr()})}Me.push(e)}function Dn(e){var t=y;if(t===null)return m.f|=we,e;if((t.f&Jt)===0){if((t.f&qt)===0)throw e;t.b.error(e)}else Le(e,t)}function Le(e,t){for(;t!==null;){if((t.f&qt)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const yt=new Set;let E=null,J=null,ne=[],Zt=null,Ht=!1;class re{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#a=null;#i=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){ne=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#o(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#l(n.effects),this.#l(n.render_effects)):(E=null,dn(n.render_effects),dn(n.effects),this.#a?.resolve()),J=null}#o(t,n){t.f^=F;for(var r=t.first;r!==null;){var i=r.f,s=(i&(ce|Re))!==0,l=s&&(i&F)!==0,o=l||(i&B)!==0||this.skipped_effects.has(r);if((r.f&qt)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!o&&r.fn!==null){s?r.f^=F:(i&Tn)!==0?n.effects.push(r):ut(r)&&((r.f&ue)!==0&&this.#i.add(r),ot(r));var f=r.first;if(f!==null){r=f;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)a===n.effect&&(this.#l(n.effects),this.#l(n.render_effects),n=n.parent),r=a.next,a=a.parent}}#l(t){for(const n of t)(n.f&$)!==0?this.#i.add(n):(n.f&ie)!==0&&this.#s.add(n),this.#f(n.deps),P(n,F)}#f(t){if(t!==null)for(const n of t)(n.f&M)===0||(n.f&Ae)===0||(n.f^=Ae,this.#f(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&we)===0&&(this.current.set(t,t.v),J?.set(t,t.v))}activate(){E=this,this.apply()}deactivate(){E===this&&(E=null,J=null)}flush(){if(this.activate(),ne.length>0){if(Qr(),E!==null&&E!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(yt.size>1){this.previous.clear();var t=J,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of yt){if(s===this){n=!1;continue}const l=[];for(const[f,a]of this.current){if(s.current.has(f))if(n&&a!==s.current.get(f))s.current.set(f,a);else continue;l.push(f)}if(l.length===0)continue;const o=[...s.current.keys()].filter(f=>!this.current.has(f));if(o.length>0){var i=ne;ne=[];const f=new Set,a=new Map;for(const v of l)Fn(v,o,f,a);if(ne.length>0){E=s,s.apply();for(const v of ne)s.#o(v,r);s.deactivate()}ne=i}}E=null,J=t}this.committed=!0,yt.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#i)this.#s.delete(t),P(t,$),qe(t);for(const t of this.#s)P(t,ie),qe(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#a??=qn()).promise}static ensure(){if(E===null){const t=E=new re;yt.add(E),re.enqueue(()=>{E===t&&t.flush()})}return E}static enqueue(t){Tt(t)}apply(){}}function Qr(){var e=xe;Ht=!0;var t=null;try{var n=0;for(St(!0);ne.length>0;){var r=re.ensure();if(n++>1e3){var i,s;es()}r.process(ne),ye.clear()}}finally{Ht=!1,St(e),Zt=null}}function es(){try{Pr()}catch(e){Le(e,Zt)}}let ae=null;function dn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(me|B))===0&&ut(r)&&(ae=new Set,ot(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Zn(r):r.fn=null),ae?.size>0)){ye.clear();for(const i of ae){if((i.f&(me|B))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)ae.has(l)&&(ae.delete(l),s.push(l)),l=l.parent;for(let o=s.length-1;o>=0;o--){const f=s[o];(f.f&(me|B))===0&&ot(f)}}ae.clear()}}ae=null}}function Fn(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&M)!==0?Fn(i,t,n,r):(s&(Xt|ue))!==0&&(s&$)===0&&Pn(i,t,r)&&(P(i,$),qe(i))}}function Pn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&M)!==0&&Pn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function qe(e){for(var t=Zt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ht&&t===y&&(n&ue)!==0&&(n&Rn)===0)return;if((n&(Re|ce))!==0){if((n&F)===0)return;t.f^=F}}ne.push(t)}function ts(e){let t=0,n=Te(0),r;return()=>{st()&&(c(n),gs(()=>(t===0&&(r=Rt(()=>e(()=>rt(n)))),t+=1,()=>{Tt(()=>{t-=1,t===0&&(r?.(),r=void 0,rt(n))})})))}}var ns=Fe|Ue|qt;function rs(e,t,n){new ss(e,t,n)}class ss{parent;#e=!1;#t;#r=null;#n;#a;#i;#s=null;#o=null;#l=null;#f=null;#u=null;#c=0;#v=0;#h=!1;#d=null;#w=ts(()=>(this.#d=Te(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#a=r,this.parent=y.b,this.#e=!!this.#n.pending,this.#i=nn(()=>{y.b=this;{var i=this.#g();try{this.#s=K(()=>r(i))}catch(s){this.error(s)}this.#v>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},ns)}#y(){try{this.#s=K(()=>this.#a(this.#t))}catch(t){this.error(t)}this.#e=!1}#b(){const t=this.#n.pending;t&&(this.#o=K(()=>t(this.#t)),re.enqueue(()=>{var n=this.#g();this.#s=this.#_(()=>(re.ensure(),K(()=>this.#a(n)))),this.#v>0?this.#p():(Se(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=be(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=y,r=m,i=k;oe(this.#i),U(this.#i),Pe(this.#i.ctx);try{return t()}catch(s){return Dn(s),null}finally{oe(n),U(r),Pe(i)}}#p(){const t=this.#n.pending;this.#s!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#u),tr(this.#s,this.#f)),this.#o===null&&(this.#o=K(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#v+=t,this.#v===0&&(this.#e=!1,this.#o&&Se(this.#o,()=>{this.#o=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(t){this.#m(t),this.#c+=t,this.#d&&We(this.#d,this.#c)}get_effect_pending(){return this.#w(),c(this.#d)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#h||!n&&!r)throw t;this.#s&&(j(this.#s),this.#s=null),this.#o&&(j(this.#o),this.#o=null),this.#l&&(j(this.#l),this.#l=null);var i=!1,s=!1;const l=()=>{if(i){Yr();return}i=!0,s&&jr(),re.ensure(),this.#c=0,this.#l!==null&&Se(this.#l,()=>{this.#l=null}),this.#e=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#h=!1,K(()=>this.#a(this.#t)))),this.#v>0?this.#p():this.#e=!1};var o=m;try{U(null),s=!0,n?.(t,l),s=!1}catch(f){Le(f,this.#i&&this.#i.parent)}finally{U(o)}r&&Tt(()=>{this.#l=this.#_(()=>{re.ensure(),this.#h=!0;try{return K(()=>{r(this.#t,()=>t,()=>l)})}catch(f){return Le(f,this.#i.parent),null}finally{this.#h=!1}})})}}function is(e,t,n,r){const i=at()?Qt:Ln;if(n.length===0&&e.length===0){r(t.map(i));return}var s=E,l=y,o=os();function f(){Promise.all(n.map(a=>ls(a))).then(a=>{o();try{r([...t.map(i),...a])}catch(v){(l.f&me)===0&&Le(v,l)}s?.deactivate(),bt()}).catch(a=>{Le(a,l)})}e.length>0?Promise.all(e).then(()=>{o();try{return f()}finally{s?.deactivate(),bt()}}):f()}function os(){var e=y,t=m,n=k,r=E;return function(s=!0){oe(e),U(t),Pe(n),s&&r?.activate()}}function bt(){oe(null),U(null),Pe(null)}function Qt(e){var t=M|$,n=m!==null&&(m.f&M)!==0?m:null;return y!==null&&(y.f|=Ue),{ctx:k,deps:null,effects:null,equals:Cn,f:t,fn:e,reactions:null,rv:0,v:D,wv:0,parent:n??y,ac:null}}function ls(e,t){let n=y;n===null&&Or();var r=n.b,i=void 0,s=Te(D),l=!m,o=new Map;return ps(()=>{var f=qn();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{a===E&&a.committed&&a.deactivate(),bt()})}catch(u){f.reject(u),bt()}var a=E;if(l){var v=!r.is_pending();r.update_pending_count(1),a.increment(v),o.get(a)?.reject(Oe),o.delete(a),o.set(a,f)}const h=(u,_=void 0)=>{if(a.activate(),_)_!==Oe&&(s.f|=we,We(s,_));else{(s.f&we)!==0&&(s.f^=we),We(s,u);for(const[d,S]of o){if(o.delete(d),d===a)break;S.reject(Oe)}}l&&(r.update_pending_count(-1),a.decrement(v))};f.promise.then(h,u=>h(null,u||"unknown"))}),Yn(()=>{for(const f of o.values())f.reject(Oe)}),new Promise(f=>{function a(v){function h(){v===i?f(s):a(i)}v.then(h,h)}a(i)})}function Ln(e){const t=Qt(e);return t.equals=Nn,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)j(t[n])}}function as(e){for(var t=e.parent;t!==null;){if((t.f&M)===0)return(t.f&me)===0?t:null;t=t.parent}return null}function en(e){var t,n=y;oe(as(e));try{e.f&=~Ae,Wn(e),t=ir(e)}finally{oe(n)}return t}function Un(e){var t=en(e);if(e.equals(t)||(E?.is_fork||(e.v=t),e.wv=rr()),!je)if(J!==null)(st()||E?.is_fork)&&J.set(e,t);else{var n=(e.f&Q)===0?ie:F;P(e,n)}}let Bt=new Set;const ye=new Map;let jn=!1;function Te(e,t){var n={f:0,v:e,reactions:null,equals:Cn,rv:0,wv:0};return n}function _e(e,t){const n=Te(e);return ys(n),n}function Xe(e,t=!1,n=!0){const r=Te(e);return t||(r.equals=Nn),lt&&n&&k!==null&&k.l!==null&&(k.l.s??=[]).push(r),r}function fs(e,t){return O(e,Rt(()=>c(e))),t}function O(e,t,n=!1){m!==null&&(!se||(m.f&vn)!==0)&&at()&&(m.f&(M|ue|Xt|vn))!==0&&!fe?.includes(e)&&Ur();let r=n?Ze(t):t;return We(e,r)}function We(e,t){if(!e.equals(t)){var n=e.v;je?ye.set(e,t):ye.set(e,n),e.v=t;var r=re.ensure();r.capture(e,n),(e.f&M)!==0&&((e.f&$)!==0&&en(e),P(e,(e.f&Q)!==0?F:ie)),e.wv=rr(),$n(e,$),at()&&y!==null&&(y.f&F)!==0&&(y.f&(ce|Re))===0&&(Y===null?bs([e]):Y.push(e)),!r.is_fork&&Bt.size>0&&!jn&&us()}return t}function us(){jn=!1;var e=xe;St(!0);const t=Array.from(Bt);try{for(const n of t)(n.f&F)!==0&&P(n,ie),ut(n)&&ot(n)}finally{St(e)}Bt.clear()}function rt(e){O(e,e.v+1)}function $n(e,t){var n=e.reactions;if(n!==null)for(var r=at(),i=n.length,s=0;s<i;s++){var l=n[s],o=l.f;if(!(!r&&l===y)){var f=(o&$)===0;if(f&&P(l,t),(o&M)!==0){var a=l;J?.delete(a),(o&Ae)===0&&(o&Q&&(l.f|=Ae),$n(a,ie))}else f&&((o&ue)!==0&&ae!==null&&ae.add(l),qe(l))}}}function Ze(e){if(typeof e!="object"||e===null||nt in e)return e;const t=Kt(e);if(t!==Tr&&t!==Rr)return e;var n=new Map,r=kn(e),i=_e(0),s=ke,l=o=>{if(ke===s)return o();var f=m,a=ke;U(null),pn(s);var v=o();return U(f),pn(a),v};return r&&n.set("length",_e(e.length)),new Proxy(e,{defineProperty(o,f,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Lr();var v=n.get(f);return v===void 0?v=l(()=>{var h=_e(a.value);return n.set(f,h),h}):O(v,a.value,!0),!0},deleteProperty(o,f){var a=n.get(f);if(a===void 0){if(f in o){const v=l(()=>_e(D));n.set(f,v),rt(i)}}else O(a,D),rt(i);return!0},get(o,f,a){if(f===nt)return e;var v=n.get(f),h=f in o;if(v===void 0&&(!h||tt(o,f)?.writable)&&(v=l(()=>{var _=Ze(h?o[f]:D),d=_e(_);return d}),n.set(f,v)),v!==void 0){var u=c(v);return u===D?void 0:u}return Reflect.get(o,f,a)},getOwnPropertyDescriptor(o,f){var a=Reflect.getOwnPropertyDescriptor(o,f);if(a&&"value"in a){var v=n.get(f);v&&(a.value=c(v))}else if(a===void 0){var h=n.get(f),u=h?.v;if(h!==void 0&&u!==D)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return a},has(o,f){if(f===nt)return!0;var a=n.get(f),v=a!==void 0&&a.v!==D||Reflect.has(o,f);if(a!==void 0||y!==null&&(!v||tt(o,f)?.writable)){a===void 0&&(a=l(()=>{var u=v?Ze(o[f]):D,_=_e(u);return _}),n.set(f,a));var h=c(a);if(h===D)return!1}return v},set(o,f,a,v){var h=n.get(f),u=f in o;if(r&&f==="length")for(var _=a;_<h.v;_+=1){var d=n.get(_+"");d!==void 0?O(d,D):_ in o&&(d=l(()=>_e(D)),n.set(_+"",d))}if(h===void 0)(!u||tt(o,f)?.writable)&&(h=l(()=>_e(void 0)),O(h,Ze(a)),n.set(f,h));else{u=h.v!==D;var S=l(()=>Ze(a));O(h,S)}var A=Reflect.getOwnPropertyDescriptor(o,f);if(A?.set&&A.set.call(v,a),!u){if(r&&typeof f=="string"){var V=n.get("length"),q=Number(f);Number.isInteger(q)&&q>=V.v&&O(V,q+1)}rt(i)}return!0},ownKeys(o){c(i);var f=Reflect.ownKeys(o).filter(h=>{var u=n.get(h);return u===void 0||u.v!==D});for(var[a,v]of n)v.v!==D&&!(a in o)&&f.push(a);return f},setPrototypeOf(){Wr()}})}var hn,Hn,Bn,Vn;function cs(){if(hn===void 0){hn=window,Hn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Bn=tt(t,"firstChild").get,Vn=tt(t,"nextSibling").get,cn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),cn(n)&&(n.__t=void 0)}}function be(e=""){return document.createTextNode(e)}function Et(e){return Bn.call(e)}function ft(e){return Vn.call(e)}function g(e,t){return Et(e)}function Ft(e,t=!1){{var n=Et(e);return n instanceof Comment&&n.data===""?ft(n):n}}function b(e,t=1,n=!1){let r=e;for(;t--;)r=ft(r);return r}function vs(e){e.textContent=""}function Gn(){return!1}function tn(e){var t=m,n=y;U(null),oe(null);try{return e()}finally{U(t),oe(n)}}function zn(e){y===null&&(m===null&&Fr(),Dr()),je&&Mr()}function ds(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ve(e,t,n){var r=y;r!==null&&(r.f&B)!==0&&(e|=B);var i={ctx:k,deps:null,nodes:null,f:e|$|Q,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ot(i),i.f|=Jt}catch(o){throw j(i),o}else t!==null&&qe(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Ue)===0&&(s=s.first,(e&ue)!==0&&(e&Fe)!==0&&s!==null&&(s.f|=Fe)),s!==null&&(s.parent=r,r!==null&&ds(s,r),m!==null&&(m.f&M)!==0&&(e&Re)===0)){var l=m;(l.effects??=[]).push(s)}return i}function st(){return m!==null&&!se}function Yn(e){const t=ve(At,null,!1);return P(t,F),t.teardown=e,t}function Vt(e){zn();var t=y.f,n=!m&&(t&ce)!==0&&(t&Jt)===0;if(n){var r=k;(r.e??=[]).push(e)}else return Kn(e)}function Kn(e){return ve(Tn|In,e,!1)}function hs(e){return zn(),ve(At|In,e,!0)}function _s(e){re.ensure();const t=ve(Re|Ue,e,!0);return(n={})=>new Promise(r=>{n.outro?Se(t,()=>{j(t),r(void 0)}):(j(t),r(void 0))})}function ps(e){return ve(Xt|Ue,e,!0)}function gs(e,t=0){return ve(At|t,e,!0)}function te(e,t=[],n=[],r=[]){is(r,t,n,i=>{ve(At,()=>e(...i.map(c)),!0)})}function nn(e,t=0){var n=ve(ue|t,e,!0);return n}function K(e){return ve(ce|Ue,e,!0)}function Jn(e){var t=e.teardown;if(t!==null){const n=je,r=m;_n(!0),U(null);try{t.call(null)}finally{_n(n),U(r)}}}function Xn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&tn(()=>{i.abort(Oe)});var r=n.next;(n.f&Re)!==0?n.parent=null:j(n,t),n=r}}function ms(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ce)===0&&j(t),t=n}}function j(e,t=!0){var n=!1;(t||(e.f&Rn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ws(e.nodes.start,e.nodes.end),n=!0),Xn(e,t&&!n),xt(e,0),P(e,me);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();Jn(e);var i=e.parent;i!==null&&i.first!==null&&Zn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ws(e,t){for(;e!==null;){var n=e===t?null:ft(e);e.remove(),e=n}}function Zn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Se(e,t,n=!0){var r=[];Qn(e,r,!0);var i=()=>{n&&j(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var o of r)o.out(l)}else i()}function Qn(e,t,n){if((e.f&B)===0){e.f^=B;var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&Fe)!==0||(i.f&ce)!==0&&(e.f&ue)!==0;Qn(i,t,l?n:!1),i=s}}}function rn(e){er(e,!0)}function er(e,t){if((e.f&B)!==0){e.f^=B,(e.f&F)===0&&(P(e,$),qe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Fe)!==0||(n.f&ce)!==0;er(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function tr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:ft(n);t.append(n),n=i}}let xe=!1;function St(e){xe=e}let je=!1;function _n(e){je=e}let m=null,se=!1;function U(e){m=e}let y=null;function oe(e){y=e}let fe=null;function ys(e){m!==null&&(fe===null?fe=[e]:fe.push(e))}let W=null,H=0,Y=null;function bs(e){Y=e}let nr=1,it=0,ke=it;function pn(e){ke=e}function rr(){return++nr}function ut(e){var t=e.f;if((t&$)!==0)return!0;if(t&M&&(e.f&=~Ae),(t&ie)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(ut(s)&&Un(s),s.wv>e.wv)return!0}(t&Q)!==0&&J===null&&P(e,F)}return!1}function sr(e,t,n=!0){var r=e.reactions;if(r!==null&&!fe?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&M)!==0?sr(s,t,!1):t===s&&(n?P(s,$):(s.f&F)!==0&&P(s,ie),qe(s))}}function ir(e){var t=W,n=H,r=Y,i=m,s=fe,l=k,o=se,f=ke,a=e.f;W=null,H=0,Y=null,m=(a&(ce|Re))===0?e:null,fe=null,Pe(e.ctx),se=!1,ke=++it,e.ac!==null&&(tn(()=>{e.ac.abort(Oe)}),e.ac=null);try{e.f|=$t;var v=e.fn,h=v(),u=e.deps;if(W!==null){var _;if(xt(e,H),u!==null&&H>0)for(u.length=H+W.length,_=0;_<W.length;_++)u[H+_]=W[_];else e.deps=u=W;if(st()&&(e.f&Q)!==0)for(_=H;_<u.length;_++)(u[_].reactions??=[]).push(e)}else u!==null&&H<u.length&&(xt(e,H),u.length=H);if(at()&&Y!==null&&!se&&u!==null&&(e.f&(M|ie|$))===0)for(_=0;_<Y.length;_++)sr(Y[_],e);return i!==null&&i!==e&&(it++,Y!==null&&(r===null?r=Y:r.push(...Y))),(e.f&we)!==0&&(e.f^=we),h}catch(d){return Dn(d)}finally{e.f^=$t,W=t,H=n,Y=r,m=i,fe=s,Pe(l),se=o,ke=f}}function Es(e,t){let n=t.reactions;if(n!==null){var r=Ar.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&M)!==0&&(W===null||!W.includes(t))&&(P(t,ie),(t.f&Q)!==0&&(t.f^=Q,t.f&=~Ae),Wn(t),xt(t,0))}function xt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Es(e,n[r])}function ot(e){var t=e.f;if((t&me)===0){P(e,F);var n=y,r=xe;y=e,xe=!0;try{(t&(ue|Cr))!==0?ms(e):Xn(e),Jn(e);var i=ir(e);e.teardown=typeof i=="function"?i:null,e.wv=nr;var s;Ut&&Jr&&(e.f&$)!==0&&e.deps}finally{xe=r,y=n}}}function c(e){var t=e.f,n=(t&M)!==0;if(m!==null&&!se){var r=y!==null&&(y.f&me)!==0;if(!r&&!fe?.includes(e)){var i=m.deps;if((m.f&$t)!==0)e.rv<it&&(e.rv=it,W===null&&i!==null&&i[H]===e?H++:W===null?W=[e]:W.includes(e)||W.push(e));else{(m.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[m]:s.includes(m)||s.push(m)}}}if(je){if(ye.has(e))return ye.get(e);if(n){var l=e,o=l.v;return((l.f&F)===0&&l.reactions!==null||lr(l))&&(o=en(l)),ye.set(l,o),o}}else n&&(!J?.has(e)||E?.is_fork&&!st())&&(l=e,ut(l)&&Un(l),xe&&st()&&(l.f&Q)===0&&or(l));if(J?.has(e))return J.get(e);if((e.f&we)!==0)throw e.v;return e.v}function or(e){if(e.deps!==null){e.f^=Q;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&M)!==0&&(t.f&Q)===0&&or(t)}}function lr(e){if(e.v===D)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ye.has(t)||(t.f&M)!==0&&lr(t))return!0;return!1}function Rt(e){var t=se;try{return se=!0,e()}finally{se=t}}const Ss=-7169;function P(e,t){e.f=e.f&Ss|t}function xs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(nt in e)Gt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&nt in n&&Gt(n)}}}function Gt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gt(e[r],t)}catch{}const n=Kt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=An(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const ks=["touchstart","touchmove"];function As(e){return ks.includes(e)}const qs=new Set,gn=new Set;function Ts(e,t,n,r={}){function i(s){if(r.capture||Qe.call(t,s),!s.cancelBubble)return tn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Tt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Rs(e,t,n,r,i){var s={capture:r,passive:i},l=Ts(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Yn(()=>{t.removeEventListener(e,l,s)})}let mn=null;function Qe(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;mn=e;var l=0,o=mn===e&&e.__root;if(o){var f=i.indexOf(o);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;f<=a&&(l=f)}if(s=i[l]||e.target,s!==t){qr(e,"currentTarget",{configurable:!0,get(){return s||n}});var v=m,h=y;U(null),oe(null);try{for(var u,_=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var S=s["__"+r];S!=null&&(!s.disabled||e.target===s)&&S.call(s,e)}catch(A){u?_.push(A):u=A}if(e.cancelBubble||d===t||d===null)break;s=d}if(u){for(let A of _)queueMicrotask(()=>{throw A});throw u}}finally{e.__root=t,delete e.currentTarget,U(v),oe(h)}}}function Is(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function zt(e,t){var n=y;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function L(e,t){var n=(t&Vr)!==0,r=(t&Gr)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Is(s?e:"<!>"+e),n||(i=Et(i)));var l=r||Hn?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Et(l),f=l.lastChild;zt(o,f)}else zt(l,l);return l}}function wn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=be();return e.append(t,n),zt(t,n),e}function C(e,t){e!==null&&e.before(t)}function R(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Cs(e,t){return Ns(e,t)}const Ne=new Map;function Ns(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){cs();var o=new Set,f=h=>{for(var u=0;u<h.length;u++){var _=h[u];if(!o.has(_)){o.add(_);var d=As(_);t.addEventListener(_,Qe,{passive:d});var S=Ne.get(_);S===void 0?(document.addEventListener(_,Qe,{passive:d}),Ne.set(_,1)):Ne.set(_,S+1)}}};f(kt(qs)),gn.add(f);var a=void 0,v=_s(()=>{var h=n??t.appendChild(be());return rs(h,{pending:()=>{}},u=>{if(s){On({});var _=k;_.c=s}i&&(r.$$events=i),a=e(u,r)||{},s&&Mn()}),()=>{for(var u of o){t.removeEventListener(u,Qe);var _=Ne.get(u);--_===0?(document.removeEventListener(u,Qe),Ne.delete(u)):Ne.set(u,_)}gn.delete(f),h!==n&&h.parentNode?.removeChild(h)}});return Os.set(a,v),a}let Os=new WeakMap;class Ms{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#a=!0;constructor(t,n=!0){this.anchor=t,this.#a=n}#i=()=>{var t=E;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)rn(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#e){if(this.#e.delete(s),s===t)break;const o=this.#r.get(l);o&&(j(o.effect),this.#r.delete(l))}for(const[s,l]of this.#t){if(s===n||this.#n.has(s))continue;const o=()=>{if(Array.from(this.#e.values()).includes(s)){var a=document.createDocumentFragment();tr(l,a),a.append(be()),this.#r.set(s,{effect:l,fragment:a})}else j(l);this.#n.delete(s),this.#t.delete(s)};this.#a||!r?(this.#n.add(s),Se(l,o,!1)):o()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(j(i.effect),this.#r.delete(r))};ensure(t,n){var r=E,i=Gn();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),l=be();s.append(l),this.#r.set(t,{effect:K(()=>n(l)),fragment:s})}else this.#t.set(t,K(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[o,f]of this.#t)o===t?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[o,f]of this.#r)o===t?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.oncommit(this.#i),r.ondiscard(this.#s)}else this.#i()}}function z(e,t,n=!1){var r=new Ms(e),i=n?Fe:0;function s(l,o){r.ensure(l,o)}nn(()=>{var l=!1;t((o,f=!0)=>{l=!0,s(f,o)}),l||s(!1,null)},i)}function Pt(e,t){return t}function Ds(e,t,n){for(var r=[],i=t.length,s,l=t.length,o=0;o<i;o++){let h=t[o];Se(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var u=e.outrogroups;Yt(kt(s.done)),u.delete(s),u.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=r.length===0&&n!==null;if(f){var a=n,v=a.parentNode;vs(v),v.append(a),e.items.clear()}Yt(t,!f)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function Yt(e,t=!0){for(var n=0;n<e.length;n++)j(e[n],t)}var yn;function Lt(e,t,n,r,i,s=null){var l=e,o=new Map;{var f=e;l=f.appendChild(be())}var a=null,v=Ln(()=>{var A=n();return kn(A)?A:A==null?[]:kt(A)}),h,u=!0;function _(){S.fallback=a,Fs(S,h,l,t,r),a!==null&&(h.length===0?(a.f&ge)===0?rn(a):(a.f^=ge,et(a,null,l)):Se(a,()=>{a=null}))}var d=nn(()=>{h=c(v);for(var A=h.length,V=new Set,q=E,w=Gn(),p=0;p<A;p+=1){var I=h[p],N=r(I,p),x=u?null:o.get(N);x?(x.v&&We(x.v,I),x.i&&We(x.i,p),w&&q.skipped_effects.delete(x.e)):(x=Ps(o,u?l:yn??=be(),I,N,p,i,t,n),u||(x.e.f|=ge),o.set(N,x)),V.add(N)}if(A===0&&s&&!a&&(u?a=K(()=>s(l)):(a=K(()=>s(yn??=be())),a.f|=ge)),!u)if(w){for(const[T,X]of o)V.has(T)||q.skipped_effects.add(X.e);q.oncommit(_),q.ondiscard(()=>{})}else _();c(v)}),S={effect:d,items:o,outrogroups:null,fallback:a};u=!1}function Fs(e,t,n,r,i){var s=t.length,l=e.items,o=e.effect.first,f,a=null,v=[],h=[],u,_,d,S;for(S=0;S<s;S+=1){if(u=t[S],_=i(u,S),d=l.get(_).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(d),T.done.delete(d);if((d.f&ge)!==0)if(d.f^=ge,d===o)et(d,null,n);else{var A=a?a.next:o;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),pe(e,a,d),pe(e,d,A),et(d,A,n),a=d,v=[],h=[],o=a.next;continue}if((d.f&B)!==0&&rn(d),d!==o){if(f!==void 0&&f.has(d)){if(v.length<h.length){var V=h[0],q;a=V.prev;var w=v[0],p=v[v.length-1];for(q=0;q<v.length;q+=1)et(v[q],V,n);for(q=0;q<h.length;q+=1)f.delete(h[q]);pe(e,w.prev,p.next),pe(e,a,w),pe(e,p,V),o=V,a=p,S-=1,v=[],h=[]}else f.delete(d),et(d,o,n),pe(e,d.prev,d.next),pe(e,d,a===null?e.effect.first:a.next),pe(e,a,d),a=d;continue}for(v=[],h=[];o!==null&&o!==d;)(f??=new Set).add(o),h.push(o),o=o.next;if(o===null)continue}(d.f&ge)===0&&v.push(d),a=d,o=d.next}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(Yt(kt(T.done)),e.outrogroups?.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var I=[];if(f!==void 0)for(d of f)(d.f&B)===0&&I.push(d);for(;o!==null;)(o.f&B)===0&&o!==e.fallback&&I.push(o),o=o.next;var N=I.length;if(N>0){var x=s===0?n:null;Ds(e,I,x)}}}function Ps(e,t,n,r,i,s,l,o){var f=(l&$r)!==0?(l&Br)===0?Xe(n,!1,!1):Te(n):null,a=(l&Hr)!==0?Te(i):null;return{v:f,i:a,e:K(()=>(s(t,f??n,a??i,o),()=>{e.delete(r)}))}}function et(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&ge)===0?t.nodes.start:n;r!==null;){var l=ft(r);if(s.before(r),r===i)return;r=l}}function pe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const bn=[...` 	
\r\f¬†\v\uFEFF`];function Ls(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var o=l+s;(l===0||bn.includes(r[l-1]))&&(o===r.length||bn.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function Ws(e,t){return e==null?null:String(e)}function Wt(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var o=Ls(n,r,s);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(s&&i!==s)for(var f in s){var a=!!s[f];(i==null||a!==!!i[f])&&e.classList.toggle(f,a)}return s}function En(e,t,n,r){var i=e.__style;if(i!==t){var s=Ws(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Us=Symbol("is custom element"),js=Symbol("is html");function $s(e,t,n,r){var i=Hs(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&Bs(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Hs(e){return e.__attributes??={[Us]:e.nodeName.includes("-"),[js]:e.namespaceURI===zr}}var Sn=new Map;function Bs(e){var t=e.getAttribute("is")||e.nodeName,n=Sn.get(t);if(n)return n;Sn.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=An(i);for(var l in r)r[l].set&&n.push(l);i=Kt(i)}return n}function Vs(e=!1){const t=k,n=t.l.u;if(!n)return;let r=()=>xs(t.s);if(e){let i=0,s={};const l=Qt(()=>{let o=!1;const f=t.s;for(const a in f)f[a]!==s[a]&&(s[a]=f[a],o=!0);return o&&i++,i});r=()=>c(l)}n.b.length&&hs(()=>{xn(t,r),jt(n.b)}),Vt(()=>{const i=Rt(()=>n.m.map(Ir));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Vt(()=>{xn(t,r),jt(n.a)})}function xn(e,t){if(e.l.s)for(const n of e.l.s)c(n);t()}function Gs(e){k===null&&Nr(),lt&&k.l!==null?zs(k).m.push(e):Vt(()=>{const t=Rt(e);if(typeof t=="function")return t})}function zs(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ys="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ys);Xr();const Ks={ALL:"all"},Js={AGENT_UPDATE:"agent_update"};class Xs{ws=null;url;reconnectInterval;maxReconnectInterval;reconnectDecay;maxReconnectAttempts;reconnectAttempts=0;shouldReconnect=!0;handlers=new Map;topics;reconnectTimeoutId=null;constructor(t={}){const r=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/v1/ws`;this.url=t.url||r,this.reconnectInterval=t.reconnectInterval||1e3,this.maxReconnectInterval=t.maxReconnectInterval||3e4,this.reconnectDecay=t.reconnectDecay||1.5,this.maxReconnectAttempts=t.maxReconnectAttempts||0,this.topics=t.topics||[Ks.ALL]}connect(){if(!(this.ws&&(this.ws.readyState===WebSocket.CONNECTING||this.ws.readyState===WebSocket.OPEN)))try{this.ws=new WebSocket(this.url),this.setupEventHandlers()}catch(t){console.error("[WS] Connection error:",t),this.scheduleReconnect()}}setupEventHandlers(){this.ws&&(this.ws.onopen=()=>{console.log("[WS] Connected"),this.reconnectAttempts=0,this.reconnectInterval=1e3,this.subscribe(this.topics),this.emit("_connected",{type:"_connected",timestamp:new Date().toISOString(),payload:null})},this.ws.onclose=t=>{console.log(`[WS] Disconnected (code: ${t.code}, reason: ${t.reason})`),this.ws=null,this.emit("_disconnected",{type:"_disconnected",timestamp:new Date().toISOString(),payload:{code:t.code,reason:t.reason}}),this.shouldReconnect&&this.scheduleReconnect()},this.ws.onerror=t=>{console.error("[WS] Error:",t),this.emit("_error",{type:"_error",timestamp:new Date().toISOString(),payload:t})},this.ws.onmessage=t=>{try{const n=t.data.split(`
`).filter(r=>r.trim());for(const r of n){const i=JSON.parse(r);this.handleMessage(i)}}catch(n){console.error("[WS] Failed to parse message:",n,t.data)}})}handleMessage(t){this.emit(t.type,t),this.emit("*",t)}emit(t,n){const r=this.handlers.get(t);r&&r.forEach(i=>{try{i(n)}catch(s){console.error(`[WS] Handler error for ${t}:`,s)}})}scheduleReconnect(){if(!this.shouldReconnect)return;if(this.maxReconnectAttempts>0&&this.reconnectAttempts>=this.maxReconnectAttempts){console.log("[WS] Max reconnect attempts reached"),this.emit("_max_reconnect",{type:"_max_reconnect",timestamp:new Date().toISOString(),payload:null});return}const t=Math.min(this.reconnectInterval*Math.pow(this.reconnectDecay,this.reconnectAttempts),this.maxReconnectInterval);console.log(`[WS] Reconnecting in ${t}ms (attempt ${this.reconnectAttempts+1})`),this.reconnectTimeoutId=setTimeout(()=>{this.reconnectAttempts++,this.connect()},t)}subscribe(t){this.topics=t,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({topics:t}))}on(t,n){return this.handlers.has(t)||this.handlers.set(t,new Set),this.handlers.get(t).add(n),()=>{this.handlers.get(t)?.delete(n)}}off(t,n){this.handlers.get(t)?.delete(n)}disconnect(){this.shouldReconnect=!1,this.reconnectTimeoutId&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=null),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null)}get isConnected(){return this.ws!==null&&this.ws.readyState===WebSocket.OPEN}get readyState(){return this.ws?.readyState??WebSocket.CLOSED}}let De=null;function Zs(e){return De||(De=new Xs(e)),De}function Qs(){De&&(De.disconnect(),De=null)}var ei=L('<span class="mail-badge svelte-1n46o8q"> </span>'),ti=L('<span class="overseer svelte-1n46o8q"> <!></span>'),ni=L('<div class="header-info svelte-1n46o8q"><span class="town-name svelte-1n46o8q"> </span> <!> <span><span class="ws-dot svelte-1n46o8q"></span> </span></div>'),ri=L('<div class="loading svelte-1n46o8q"><div class="spinner svelte-1n46o8q"></div> <p class="svelte-1n46o8q">Loading town status...</p></div>'),si=L('<div class="error-container svelte-1n46o8q"><p class="text-error svelte-1n46o8q"> </p> <button class="svelte-1n46o8q">Retry</button></div>'),ii=L('<span class="mail-badge small svelte-1n46o8q"> </span>'),oi=L('<div class="agent-item svelte-1n46o8q"><span class="agent-icon svelte-1n46o8q"> </span> <span class="agent-name svelte-1n46o8q"> </span> <span></span> <!></div>'),li=L('<section class="card svelte-1n46o8q"><h2 class="card-header svelte-1n46o8q">Global Agents</h2> <div class="agent-list svelte-1n46o8q"></div></section>'),ai=L('<span class="service-badge svelte-1n46o8q" title="Witness">üëÄ</span>'),fi=L('<span class="service-badge svelte-1n46o8q" title="Refinery">‚öôÔ∏è</span>'),ui=L('<span class="work-title mono svelte-1n46o8q"> </span>'),ci=L('<div class="agent-row svelte-1n46o8q"><span class="agent-icon small svelte-1n46o8q"> </span> <span class="agent-name svelte-1n46o8q"> </span> <span></span> <!></div>'),vi=L('<div class="rig-agents svelte-1n46o8q"></div>'),di=L('<div class="card rig-card svelte-1n46o8q"><div class="rig-header svelte-1n46o8q"><h3 class="rig-name svelte-1n46o8q"> </h3> <div class="rig-services svelte-1n46o8q"><!> <!></div></div> <p class="rig-path mono text-muted svelte-1n46o8q"> </p> <div class="rig-stats svelte-1n46o8q"><span class="svelte-1n46o8q"> </span> <span class="svelte-1n46o8q"> </span></div> <!></div>'),hi=L('<section class="summary-grid svelte-1n46o8q"><div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Rigs</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Polecats</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Crews</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Active Hooks</div></div></section> <!> <section class="rigs-section svelte-1n46o8q"><h2 class="section-header svelte-1n46o8q">Rigs</h2> <div class="rigs-grid svelte-1n46o8q"></div></section>',1),_i=L('<div class="app svelte-1n46o8q"><header class="header svelte-1n46o8q"><div class="logo svelte-1n46o8q"><span class="logo-icon svelte-1n46o8q">‚õΩ</span> <h1 class="svelte-1n46o8q">Gas Town</h1></div> <!></header> <main class="main svelte-1n46o8q"><!></main> <footer class="footer svelte-1n46o8q"><p class="text-muted svelte-1n46o8q">Gas Town Dashboard v0.1.0</p></footer></div>');function pi(e,t){On(t,!1);let n=Xe(null),r=Xe(!0),i=Xe(null),s=Xe(!1),l=null;async function o(){try{const p=await(await fetch("/api/v1/status")).json();p.success?(O(n,p.data),O(i,null),l=new Date):O(i,p.error?.message||"Unknown error")}catch(w){O(i,w instanceof Error?w.message:"Failed to fetch status")}finally{O(r,!1)}}function f(w){if(!c(n))return;const p=w.payload;l=new Date;const I=c(n).agents?.findIndex(N=>N.address===p.address);if(I!==void 0&&I>=0){fs(n,c(n).agents[I]={...c(n).agents[I],running:p.running,has_work:p.has_work,hook_bead:p.hook_bead,work_title:p.work_title,state:p.state}),O(n,c(n));return}for(const N of c(n).rigs??[]){const x=N.agents?.findIndex(T=>T.address===p.address);if(x!==void 0&&x>=0&&N.agents){N.agents[x]={...N.agents[x],running:p.running,has_work:p.has_work,hook_bead:p.hook_bead,work_title:p.work_title,state:p.state},O(n,c(n));return}}console.log("[WS] Agent not found, refreshing:",p.address),o()}Gs(()=>{o();const w=Zs();w.on("_connected",()=>{O(s,!0),console.log("[App] WebSocket connected")}),w.on("_disconnected",()=>{O(s,!1),console.log("[App] WebSocket disconnected")}),w.on(Js.AGENT_UPDATE,f),w.connect();const p=setInterval(()=>{c(s)||o()},3e4);return()=>{clearInterval(p),Qs()}});function a(w){return{mayor:"üë®‚Äç‚öñÔ∏è",deacon:"‚õ™",witness:"üëÄ",refinery:"‚öôÔ∏è",polecat:"üê±",crew:"üë∑"}[w]||"ü§ñ"}function v(w){return{mayor:"var(--color-mayor)",deacon:"var(--color-deacon)",witness:"var(--color-witness)",refinery:"var(--color-refinery)",polecat:"var(--color-polecat)",crew:"var(--color-crew)"}[w]||"var(--color-gray)"}Vs();var h=_i(),u=g(h),_=b(g(u),2);{var d=w=>{var p=ni(),I=g(p),N=g(I),x=b(I,2);{var T=le=>{var He=ti(),Be=g(He),ct=b(Be);{var It=Ve=>{var Ge=ei(),Ct=g(Ge);te(()=>R(Ct,c(n).overseer.unread_mail)),C(Ve,Ge)};z(ct,Ve=>{c(n).overseer.unread_mail>0&&Ve(It)})}te(()=>R(Be,`${c(n).overseer.name??""} `)),C(le,He)};z(x,le=>{c(n).overseer&&le(T)})}var X=b(x,2);let Ee;var $e=b(g(X));te(()=>{R(N,c(n).name),Ee=Wt(X,1,"ws-status svelte-1n46o8q",null,Ee,{connected:c(s)}),$s(X,"title",c(s)?"Live updates active":"Reconnecting..."),R($e,` ${c(s)?"Live":"Offline"}`)}),C(w,p)};z(_,w=>{c(n)&&w(d)})}var S=b(u,2),A=g(S);{var V=w=>{var p=ri();C(w,p)},q=w=>{var p=wn(),I=Ft(p);{var N=T=>{var X=si(),Ee=g(X),$e=g(Ee),le=b(Ee,2);te(()=>R($e,`Error: ${c(i)??""}`)),Rs("click",le,o),C(T,X)},x=T=>{var X=wn(),Ee=Ft(X);{var $e=le=>{var He=hi(),Be=Ft(He),ct=g(Be),It=g(ct),Ve=g(It),Ge=b(ct,2),Ct=g(Ge),ar=g(Ct),sn=b(Ge,2),fr=g(sn),ur=g(fr),cr=b(sn,2),vr=g(cr),dr=g(vr),on=b(Be,2);{var hr=ze=>{var G=li(),vt=b(g(G),2);Lt(vt,5,()=>c(n).agents,Pt,(dt,ee)=>{var ht=oi(),Ye=g(ht),_t=g(Ye),pt=b(Ye,2),Nt=g(pt),gt=b(pt,2);let Ke;var Ot=b(gt,2);{var mt=de=>{var Ie=ii(),Mt=g(Ie);te(()=>R(Mt,c(ee).unread_mail)),C(de,Ie)};z(Ot,de=>{c(ee).unread_mail>0&&de(mt)})}te((de,Ie)=>{En(Ye,`color: ${de??""}`),R(_t,Ie),R(Nt,c(ee).name),Ke=Wt(gt,1,"status-dot svelte-1n46o8q",null,Ke,{running:c(ee).running,stopped:!c(ee).running})},[()=>v(c(ee).role),()=>a(c(ee).role)]),C(dt,ht)}),C(ze,G)};z(on,ze=>{c(n).agents?.length>0&&ze(hr)})}var _r=b(on,2),pr=b(g(_r),2);Lt(pr,5,()=>c(n).rigs??[],Pt,(ze,G)=>{var vt=di(),dt=g(vt),ee=g(dt),ht=g(ee),Ye=b(ee,2),_t=g(Ye);{var pt=Z=>{var Ce=ai();C(Z,Ce)};z(_t,Z=>{c(G).has_witness&&Z(pt)})}var Nt=b(_t,2);{var gt=Z=>{var Ce=fi();C(Z,Ce)};z(Nt,Z=>{c(G).has_refinery&&Z(gt)})}var Ke=b(dt,2),Ot=g(Ke),mt=b(Ke,2),de=g(mt),Ie=g(de),Mt=b(de,2),gr=g(Mt),mr=b(mt,2);{var wr=Z=>{var Ce=vi();Lt(Ce,5,()=>c(G).agents,Pt,(yr,he)=>{var ln=ci(),Dt=g(ln),br=g(Dt),an=b(Dt,2),Er=g(an),fn=b(an,2);let un;var Sr=b(fn,2);{var xr=Je=>{var wt=ui(),kr=g(wt);te(()=>R(kr,c(he).work_title)),C(Je,wt)};z(Sr,Je=>{c(he).has_work&&c(he).work_title&&Je(xr)})}te((Je,wt)=>{En(Dt,`color: ${Je??""}`),R(br,wt),R(Er,c(he).name),un=Wt(fn,1,"status-dot svelte-1n46o8q",null,un,{running:c(he).running,working:c(he).has_work})},[()=>v(c(he).role),()=>a(c(he).role)]),C(yr,ln)}),C(Z,Ce)};z(mr,Z=>{c(G).agents&&c(G).agents.length>0&&Z(wr)})}te(()=>{R(ht,c(G).name),R(Ot,c(G).path),R(Ie,`${c(G).polecat_count??""} polecats`),R(gr,`${c(G).crew_count??""} crews`)}),C(ze,vt)}),te(()=>{R(Ve,c(n).summary.rig_count),R(ar,c(n).summary.polecat_count),R(ur,c(n).summary.crew_count),R(dr,c(n).summary.active_hooks)}),C(le,He)};z(Ee,le=>{c(n)&&le($e)},!0)}C(T,X)};z(I,T=>{c(i)?T(N):T(x,!1)},!0)}C(w,p)};z(A,w=>{c(r)?w(V):w(q,!1)})}C(e,h),Mn()}Cs(pi,{target:document.getElementById("app")});
