(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const vn=!1;var Xn=Array.isArray,ts=Array.prototype.indexOf,nn=Array.from,ns=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,rs=Object.getOwnPropertyDescriptors,ss=Object.prototype,is=Array.prototype,Zn=Object.getPrototypeOf,Ln=Object.isExtensible;function as(e){return e()}function dn(e){for(var t=0;t<e.length;t++)e[t]()}function Jn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const D=2,Qn=4,rn=8,ls=1<<24,Fe=16,De=32,ct=64,sn=128,de=512,O=1024,G=2048,be=4096,$=8192,$e=16384,bn=32768,bt=65536,jn=1<<17,er=1<<18,kt=1<<19,tr=1<<20,We=1<<25,ot=32768,_n=1<<21,En=1<<22,Xe=1<<23,Dt=Symbol("$state"),yt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function os(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function us(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function cs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ds(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function _s(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ps(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ms(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const gs=1,ys=2,ws=16,bs=1,Es=2,N=Symbol();function qs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function nr(e){return e===this.v}function xs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function rr(e){return!xs(e,this.v)}let Lt=!1,ks=!1;function Ts(){Lt=!0}let R=null;function Et(e){R=e}function sr(e,t=!1,n){R={p:R,i:!1,c:null,e:null,s:e,x:null,l:Lt&&!t?{s:null,u:null,$:[]}:null}}function ir(e){var t=R,n=t.e;if(n!==null){t.e=null;for(var r of n)wr(r)}return t.i=!0,R=t.p,{}}function jt(){return!Lt||R!==null&&R.l===null}let wt=[];function As(){var e=wt;wt=[],dn(e)}function an(e){if(wt.length===0){var t=wt;queueMicrotask(()=>{t===wt&&As()})}wt.push(e)}function ar(e){var t=q;if(t===null)return w.f|=Xe,e;if((t.f&bn)===0){if((t.f&sn)===0)throw e;t.b.error(e)}else qt(e,t)}function qt(e,t){for(;t!==null;){if((t.f&sn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const $t=new Set;let S=null,re=null,ge=[],qn=null,hn=!1;class ye{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#o=null;#i=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){ge=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#l(n.effects),this.#l(n.render_effects)):(S=null,Bn(n.render_effects),Bn(n.effects),this.#o?.resolve()),re=null}#a(t,n){t.f^=O;for(var r=t.first;r!==null;){var i=r.f,s=(i&(De|ct))!==0,l=s&&(i&O)!==0,a=l||(i&$)!==0||this.skipped_effects.has(r);if((r.f&sn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!a&&r.fn!==null){s?r.f^=O:(i&Qn)!==0?n.effects.push(r):Vt(r)&&((r.f&Fe)!==0&&this.#i.add(r),Pt(r));var f=r.first;if(f!==null){r=f;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)o===n.effect&&(this.#l(n.effects),this.#l(n.render_effects),n=n.parent),r=o.next,o=o.parent}}#l(t){for(const n of t)(n.f&G)!==0?this.#i.add(n):(n.f&be)!==0&&this.#s.add(n),this.#f(n.deps),I(n,O)}#f(t){if(t!==null)for(const n of t)(n.f&D)===0||(n.f&ot)===0||(n.f^=ot,this.#f(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Xe)===0&&(this.current.set(t,t.v),re?.set(t,t.v))}activate(){S=this,this.apply()}deactivate(){S===this&&(S=null,re=null)}flush(){if(this.activate(),ge.length>0){if(Ss(),S!==null&&S!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#c()}#c(){if($t.size>1){this.previous.clear();var t=re,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of $t){if(s===this){n=!1;continue}const l=[];for(const[f,o]of this.current){if(s.current.has(f))if(n&&o!==s.current.get(f))s.current.set(f,o);else continue;l.push(f)}if(l.length===0)continue;const a=[...s.current.keys()].filter(f=>!this.current.has(f));if(a.length>0){var i=ge;ge=[];const f=new Set,o=new Map;for(const c of l)lr(c,a,f,o);if(ge.length>0){S=s,s.apply();for(const c of ge)s.#a(c,r);s.deactivate()}ge=i}}S=null,re=t}this.committed=!0,$t.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#i)this.#s.delete(t),I(t,G),ft(t);for(const t of this.#s)I(t,be),ft(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#o??=Jn()).promise}static ensure(){if(S===null){const t=S=new ye;$t.add(S),ye.enqueue(()=>{S===t&&t.flush()})}return S}static enqueue(t){an(t)}apply(){}}function Ss(){var e=at;hn=!0;var t=null;try{var n=0;for(en(!0);ge.length>0;){var r=ye.ensure();if(n++>1e3){var i,s;Rs()}r.process(ge),Ze.clear()}}finally{hn=!1,en(e),qn=null}}function Rs(){try{ds()}catch(e){qt(e,qn)}}let Me=null;function Bn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&($e|$))===0&&Vt(r)&&(Me=new Set,Pt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?qr(r):r.fn=null),Me?.size>0)){Ze.clear();for(const i of Me){if((i.f&($e|$))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)Me.has(l)&&(Me.delete(l),s.push(l)),l=l.parent;for(let a=s.length-1;a>=0;a--){const f=s[a];(f.f&($e|$))===0&&Pt(f)}}Me.clear()}}Me=null}}function lr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&D)!==0?lr(i,t,n,r):(s&(En|Fe))!==0&&(s&G)===0&&or(i,t,r)&&(I(i,G),ft(i))}}function or(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&D)!==0&&or(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ft(e){for(var t=qn=e;t.parent!==null;){t=t.parent;var n=t.f;if(hn&&t===q&&(n&Fe)!==0&&(n&er)===0)return;if((n&(ct|De))!==0){if((n&O)===0)return;t.f^=O}}ge.push(t)}function Ms(e){let t=0,n=ut(0),r;return()=>{Ot()&&(u(n),Gs(()=>(t===0&&(r=Rn(()=>e(()=>Nt(n)))),t+=1,()=>{an(()=>{t-=1,t===0&&(r?.(),r=void 0,Nt(n))})})))}}var Cs=bt|kt|sn;function Fs(e,t,n){new Ds(e,t,n)}class Ds{parent;#e=!1;#t;#r=null;#n;#o;#i;#s=null;#a=null;#l=null;#f=null;#u=null;#c=0;#v=0;#_=!1;#d=null;#y=Ms(()=>(this.#d=ut(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#o=r,this.parent=q.b,this.#e=!!this.#n.pending,this.#i=An(()=>{q.b=this;{var i=this.#m();try{this.#s=ne(()=>r(i))}catch(s){this.error(s)}this.#v>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},Cs)}#w(){try{this.#s=ne(()=>this.#o(this.#t))}catch(t){this.error(t)}this.#e=!1}#b(){const t=this.#n.pending;t&&(this.#a=ne(()=>t(this.#t)),ye.enqueue(()=>{var n=this.#m();this.#s=this.#h(()=>(ye.ensure(),ne(()=>this.#o(n)))),this.#v>0?this.#p():(it(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#m(){var t=this.#t;return this.#e&&(this.#u=Je(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(t){var n=q,r=w,i=R;Ee(this.#i),H(this.#i),Et(this.#i.ctx);try{return t()}catch(s){return ar(s),null}finally{Ee(n),H(r),Et(i)}}#p(){const t=this.#n.pending;this.#s!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#u),Tr(this.#s,this.#f)),this.#a===null&&(this.#a=ne(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#v+=t,this.#v===0&&(this.#e=!1,this.#a&&it(this.#a,()=>{this.#a=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(t){this.#g(t),this.#c+=t,this.#d&&xt(this.#d,this.#c)}get_effect_pending(){return this.#y(),u(this.#d)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#_||!n&&!r)throw t;this.#s&&(z(this.#s),this.#s=null),this.#a&&(z(this.#a),this.#a=null),this.#l&&(z(this.#l),this.#l=null);var i=!1,s=!1;const l=()=>{if(i){qs();return}i=!0,s&&ms(),ye.ensure(),this.#c=0,this.#l!==null&&it(this.#l,()=>{this.#l=null}),this.#e=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#_=!1,ne(()=>this.#o(this.#t)))),this.#v>0?this.#p():this.#e=!1};var a=w;try{H(null),s=!0,n?.(t,l),s=!1}catch(f){qt(f,this.#i&&this.#i.parent)}finally{H(a)}r&&an(()=>{this.#l=this.#h(()=>{ye.ensure(),this.#_=!0;try{return ne(()=>{r(this.#t,()=>t,()=>l)})}catch(f){return qt(f,this.#i.parent),null}finally{this.#_=!1}})})}}function Ns(e,t,n,r){const i=jt()?xn:fr;if(n.length===0&&e.length===0){r(t.map(i));return}var s=S,l=q,a=Os();function f(){Promise.all(n.map(o=>Is(o))).then(o=>{a();try{r([...t.map(i),...o])}catch(c){(l.f&$e)===0&&qt(c,l)}s?.deactivate(),Jt()}).catch(o=>{qt(o,l)})}e.length>0?Promise.all(e).then(()=>{a();try{return f()}finally{s?.deactivate(),Jt()}}):f()}function Os(){var e=q,t=w,n=R,r=S;return function(s=!0){Ee(e),H(t),Et(n),s&&r?.activate()}}function Jt(){Ee(null),H(null),Et(null)}function xn(e){var t=D|G,n=w!==null&&(w.f&D)!==0?w:null;return q!==null&&(q.f|=kt),{ctx:R,deps:null,effects:null,equals:nr,f:t,fn:e,reactions:null,rv:0,v:N,wv:0,parent:n??q,ac:null}}function Is(e,t){let n=q;n===null&&fs();var r=n.b,i=void 0,s=ut(N),l=!w,a=new Map;return zs(()=>{var f=Jn();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{o===S&&o.committed&&o.deactivate(),Jt()})}catch(d){f.reject(d),Jt()}var o=S;if(l){var c=!r.is_pending();r.update_pending_count(1),o.increment(c),a.get(o)?.reject(yt),a.delete(o),a.set(o,f)}const h=(d,p=void 0)=>{if(o.activate(),p)p!==yt&&(s.f|=Xe,xt(s,p));else{(s.f&Xe)!==0&&(s.f^=Xe),xt(s,d);for(const[_,A]of a){if(a.delete(_),_===o)break;A.reject(yt)}}l&&(r.update_pending_count(-1),o.decrement(c))};f.promise.then(h,d=>h(null,d||"unknown"))}),yr(()=>{for(const f of a.values())f.reject(yt)}),new Promise(f=>{function o(c){function h(){c===i?f(s):o(i)}c.then(h,h)}o(i)})}function fr(e){const t=xn(e);return t.equals=rr,t}function ur(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)z(t[n])}}function Ps(e){for(var t=e.parent;t!==null;){if((t.f&D)===0)return(t.f&$e)===0?t:null;t=t.parent}return null}function kn(e){var t,n=q;Ee(Ps(e));try{e.f&=~ot,ur(e),t=Mr(e)}finally{Ee(n)}return t}function cr(e){var t=kn(e);if(e.equals(t)||(S?.is_fork||(e.v=t),e.wv=Sr()),!Tt)if(re!==null)(Ot()||S?.is_fork)&&re.set(e,t);else{var n=(e.f&de)===0?be:O;I(e,n)}}let pn=new Set;const Ze=new Map;let vr=!1;function ut(e,t){var n={f:0,v:e,reactions:null,equals:nr,rv:0,wv:0};return n}function ze(e,t){const n=ut(e);return Ws(n),n}function ve(e,t=!1,n=!0){const r=ut(e);return t||(r.equals=rr),Lt&&n&&R!==null&&R.l!==null&&(R.l.s??=[]).push(r),r}function k(e,t,n=!1){w!==null&&(!we||(w.f&jn)!==0)&&jt()&&(w.f&(D|Fe|En|jn))!==0&&!Ce?.includes(e)&&ps();let r=n?Rt(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;Tt?Ze.set(e,t):Ze.set(e,n),e.v=t;var r=ye.ensure();r.capture(e,n),(e.f&D)!==0&&((e.f&G)!==0&&kn(e),I(e,(e.f&de)!==0?O:be)),e.wv=Sr(),dr(e,G),jt()&&q!==null&&(q.f&O)!==0&&(q.f&(De|ct))===0&&(te===null?$s([e]):te.push(e)),!r.is_fork&&pn.size>0&&!vr&&Ls()}return t}function Ls(){vr=!1;var e=at;en(!0);const t=Array.from(pn);try{for(const n of t)(n.f&O)!==0&&I(n,be),Vt(n)&&Pt(n)}finally{en(e)}pn.clear()}function Nt(e){k(e,e.v+1)}function dr(e,t){var n=e.reactions;if(n!==null)for(var r=jt(),i=n.length,s=0;s<i;s++){var l=n[s],a=l.f;if(!(!r&&l===q)){var f=(a&G)===0;if(f&&I(l,t),(a&D)!==0){var o=l;re?.delete(o),(a&ot)===0&&(a&de&&(l.f|=ot),dr(o,be))}else f&&((a&Fe)!==0&&Me!==null&&Me.add(l),ft(l))}}}function Rt(e){if(typeof e!="object"||e===null||Dt in e)return e;const t=Zn(e);if(t!==ss&&t!==is)return e;var n=new Map,r=Xn(e),i=ze(0),s=lt,l=a=>{if(lt===s)return a();var f=w,o=lt;H(null),Hn(s);var c=a();return H(f),Hn(o),c};return r&&n.set("length",ze(e.length)),new Proxy(e,{defineProperty(a,f,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&_s();var c=n.get(f);return c===void 0?c=l(()=>{var h=ze(o.value);return n.set(f,h),h}):k(c,o.value,!0),!0},deleteProperty(a,f){var o=n.get(f);if(o===void 0){if(f in a){const c=l(()=>ze(N));n.set(f,c),Nt(i)}}else k(o,N),Nt(i);return!0},get(a,f,o){if(f===Dt)return e;var c=n.get(f),h=f in a;if(c===void 0&&(!h||Ft(a,f)?.writable)&&(c=l(()=>{var p=Rt(h?a[f]:N),_=ze(p);return _}),n.set(f,c)),c!==void 0){var d=u(c);return d===N?void 0:d}return Reflect.get(a,f,o)},getOwnPropertyDescriptor(a,f){var o=Reflect.getOwnPropertyDescriptor(a,f);if(o&&"value"in o){var c=n.get(f);c&&(o.value=u(c))}else if(o===void 0){var h=n.get(f),d=h?.v;if(h!==void 0&&d!==N)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return o},has(a,f){if(f===Dt)return!0;var o=n.get(f),c=o!==void 0&&o.v!==N||Reflect.has(a,f);if(o!==void 0||q!==null&&(!c||Ft(a,f)?.writable)){o===void 0&&(o=l(()=>{var d=c?Rt(a[f]):N,p=ze(d);return p}),n.set(f,o));var h=u(o);if(h===N)return!1}return c},set(a,f,o,c){var h=n.get(f),d=f in a;if(r&&f==="length")for(var p=o;p<h.v;p+=1){var _=n.get(p+"");_!==void 0?k(_,N):p in a&&(_=l(()=>ze(N)),n.set(p+"",_))}if(h===void 0)(!d||Ft(a,f)?.writable)&&(h=l(()=>ze(void 0)),k(h,Rt(o)),n.set(f,h));else{d=h.v!==N;var A=l(()=>Rt(o));k(h,A)}var T=Reflect.getOwnPropertyDescriptor(a,f);if(T?.set&&T.set.call(c,o),!d){if(r&&typeof f=="string"){var X=n.get("length"),C=Number(f);Number.isInteger(C)&&C>=X.v&&k(X,C+1)}Nt(i)}return!0},ownKeys(a){u(i);var f=Reflect.ownKeys(a).filter(h=>{var d=n.get(h);return d===void 0||d.v!==N});for(var[o,c]of n)c.v!==N&&!(o in a)&&f.push(o);return f},setPrototypeOf(){hs()}})}var Vn,_r,hr,pr;function js(){if(Vn===void 0){Vn=window,_r=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;hr=Ft(t,"firstChild").get,pr=Ft(t,"nextSibling").get,Ln(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ln(n)&&(n.__t=void 0)}}function Je(e=""){return document.createTextNode(e)}function Qt(e){return hr.call(e)}function Bt(e){return pr.call(e)}function v(e,t){return Qt(e)}function Ge(e,t=!1){{var n=Qt(e);return n instanceof Comment&&n.data===""?Bt(n):n}}function g(e,t=1,n=!1){let r=e;for(;t--;)r=Bt(r);return r}function Bs(e){e.textContent=""}function mr(){return!1}function Tn(e){var t=w,n=q;H(null),Ee(null);try{return e()}finally{H(t),Ee(n)}}function gr(e){q===null&&(w===null&&vs(),cs()),Tt&&us()}function Vs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ne(e,t,n){var r=q;r!==null&&(r.f&$)!==0&&(e|=$);var i={ctx:R,deps:null,nodes:null,f:e|G|de,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Pt(i),i.f|=bn}catch(a){throw z(i),a}else t!==null&&ft(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&kt)===0&&(s=s.first,(e&Fe)!==0&&(e&bt)!==0&&s!==null&&(s.f|=bt)),s!==null&&(s.parent=r,r!==null&&Vs(s,r),w!==null&&(w.f&D)!==0&&(e&ct)===0)){var l=w;(l.effects??=[]).push(s)}return i}function Ot(){return w!==null&&!we}function yr(e){const t=Ne(rn,null,!1);return I(t,O),t.teardown=e,t}function mn(e){gr();var t=q.f,n=!w&&(t&De)!==0&&(t&bn)===0;if(n){var r=R;(r.e??=[]).push(e)}else return wr(e)}function wr(e){return Ne(Qn|tr,e,!1)}function Us(e){return gr(),Ne(rn|tr,e,!0)}function Hs(e){ye.ensure();const t=Ne(ct|kt,e,!0);return(n={})=>new Promise(r=>{n.outro?it(t,()=>{z(t),r(void 0)}):(z(t),r(void 0))})}function zs(e){return Ne(En|kt,e,!0)}function Gs(e,t=0){return Ne(rn|t,e,!0)}function j(e,t=[],n=[],r=[]){Ns(r,t,n,i=>{Ne(rn,()=>e(...i.map(u)),!0)})}function An(e,t=0){var n=Ne(Fe|t,e,!0);return n}function ne(e){return Ne(De|kt,e,!0)}function br(e){var t=e.teardown;if(t!==null){const n=Tt,r=w;Un(!0),H(null);try{t.call(null)}finally{Un(n),H(r)}}}function Er(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Tn(()=>{i.abort(yt)});var r=n.next;(n.f&ct)!==0?n.parent=null:z(n,t),n=r}}function Ys(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&De)===0&&z(t),t=n}}function z(e,t=!0){var n=!1;(t||(e.f&er)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ks(e.nodes.start,e.nodes.end),n=!0),Er(e,t&&!n),tn(e,0),I(e,$e);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();br(e);var i=e.parent;i!==null&&i.first!==null&&qr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ks(e,t){for(;e!==null;){var n=e===t?null:Bt(e);e.remove(),e=n}}function qr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function it(e,t,n=!0){var r=[];xr(e,r,!0);var i=()=>{n&&z(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var a of r)a.out(l)}else i()}function xr(e,t,n){if((e.f&$)===0){e.f^=$;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&bt)!==0||(i.f&De)!==0&&(e.f&Fe)!==0;xr(i,t,l?n:!1),i=s}}}function Sn(e){kr(e,!0)}function kr(e,t){if((e.f&$)!==0){e.f^=$,(e.f&O)===0&&(I(e,G),ft(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&bt)!==0||(n.f&De)!==0;kr(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function Tr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Bt(n);t.append(n),n=i}}let at=!1;function en(e){at=e}let Tt=!1;function Un(e){Tt=e}let w=null,we=!1;function H(e){w=e}let q=null;function Ee(e){q=e}let Ce=null;function Ws(e){w!==null&&(Ce===null?Ce=[e]:Ce.push(e))}let B=null,W=0,te=null;function $s(e){te=e}let Ar=1,It=0,lt=It;function Hn(e){lt=e}function Sr(){return++Ar}function Vt(e){var t=e.f;if((t&G)!==0)return!0;if(t&D&&(e.f&=~ot),(t&be)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(Vt(s)&&cr(s),s.wv>e.wv)return!0}(t&de)!==0&&re===null&&I(e,O)}return!1}function Rr(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ce?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&D)!==0?Rr(s,t,!1):t===s&&(n?I(s,G):(s.f&O)!==0&&I(s,be),ft(s))}}function Mr(e){var t=B,n=W,r=te,i=w,s=Ce,l=R,a=we,f=lt,o=e.f;B=null,W=0,te=null,w=(o&(De|ct))===0?e:null,Ce=null,Et(e.ctx),we=!1,lt=++It,e.ac!==null&&(Tn(()=>{e.ac.abort(yt)}),e.ac=null);try{e.f|=_n;var c=e.fn,h=c(),d=e.deps;if(B!==null){var p;if(tn(e,W),d!==null&&W>0)for(d.length=W+B.length,p=0;p<B.length;p++)d[W+p]=B[p];else e.deps=d=B;if(Ot()&&(e.f&de)!==0)for(p=W;p<d.length;p++)(d[p].reactions??=[]).push(e)}else d!==null&&W<d.length&&(tn(e,W),d.length=W);if(jt()&&te!==null&&!we&&d!==null&&(e.f&(D|be|G))===0)for(p=0;p<te.length;p++)Rr(te[p],e);return i!==null&&i!==e&&(It++,te!==null&&(r===null?r=te:r.push(...te))),(e.f&Xe)!==0&&(e.f^=Xe),h}catch(_){return ar(_)}finally{e.f^=_n,B=t,W=n,te=r,w=i,Ce=s,Et(l),we=a,lt=f}}function Xs(e,t){let n=t.reactions;if(n!==null){var r=ts.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&D)!==0&&(B===null||!B.includes(t))&&(I(t,be),(t.f&de)!==0&&(t.f^=de,t.f&=~ot),ur(t),tn(t,0))}function tn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Xs(e,n[r])}function Pt(e){var t=e.f;if((t&$e)===0){I(e,O);var n=q,r=at;q=e,at=!0;try{(t&(Fe|ls))!==0?Ys(e):Er(e),br(e);var i=Mr(e);e.teardown=typeof i=="function"?i:null,e.wv=Ar;var s;vn&&ks&&(e.f&G)!==0&&e.deps}finally{at=r,q=n}}}function u(e){var t=e.f,n=(t&D)!==0;if(w!==null&&!we){var r=q!==null&&(q.f&$e)!==0;if(!r&&!Ce?.includes(e)){var i=w.deps;if((w.f&_n)!==0)e.rv<It&&(e.rv=It,B===null&&i!==null&&i[W]===e?W++:B===null?B=[e]:B.includes(e)||B.push(e));else{(w.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[w]:s.includes(w)||s.push(w)}}}if(Tt){if(Ze.has(e))return Ze.get(e);if(n){var l=e,a=l.v;return((l.f&O)===0&&l.reactions!==null||Fr(l))&&(a=kn(l)),Ze.set(l,a),a}}else n&&(!re?.has(e)||S?.is_fork&&!Ot())&&(l=e,Vt(l)&&cr(l),at&&Ot()&&(l.f&de)===0&&Cr(l));if(re?.has(e))return re.get(e);if((e.f&Xe)!==0)throw e.v;return e.v}function Cr(e){if(e.deps!==null){e.f^=de;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&D)!==0&&(t.f&de)===0&&Cr(t)}}function Fr(e){if(e.v===N)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ze.has(t)||(t.f&D)!==0&&Fr(t))return!0;return!1}function Rn(e){var t=we;try{return we=!0,e()}finally{we=t}}const Zs=-7169;function I(e,t){e.f=e.f&Zs|t}function Js(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Dt in e)gn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Dt in n&&gn(n)}}}function gn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{gn(e[r],t)}catch{}const n=Zn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=rs(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const Qs=["touchstart","touchmove"];function ei(e){return Qs.includes(e)}const ti=new Set,zn=new Set;function ni(e,t,n,r={}){function i(s){if(r.capture||Mt.call(t,s),!s.cancelBubble)return Tn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?an(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ye(e,t,n,r,i){var s={capture:r,passive:i},l=ni(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&yr(()=>{t.removeEventListener(e,l,s)})}let Gn=null;function Mt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Gn=e;var l=0,a=Gn===e&&e.__root;if(a){var f=i.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;f<=o&&(l=f)}if(s=i[l]||e.target,s!==t){ns(e,"currentTarget",{configurable:!0,get(){return s||n}});var c=w,h=q;H(null),Ee(null);try{for(var d,p=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var A=s["__"+r];A!=null&&(!s.disabled||e.target===s)&&A.call(s,e)}catch(T){d?p.push(T):d=T}if(e.cancelBubble||_===t||_===null)break;s=_}if(d){for(let T of p)queueMicrotask(()=>{throw T});throw d}}finally{e.__root=t,delete e.currentTarget,H(c),Ee(h)}}}function ri(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function yn(e,t){var n=q;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function x(e,t){var n=(t&bs)!==0,r=(t&Es)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=ri(s?e:"<!>"+e),n||(i=Qt(i)));var l=r||_r?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Qt(l),f=l.lastChild;yn(a,f)}else yn(l,l);return l}}function mt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Je();return e.append(t,n),yn(t,n),e}function y(e,t){e!==null&&e.before(t)}function E(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function si(e,t){return ii(e,t)}const gt=new Map;function ii(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){js();var a=new Set,f=h=>{for(var d=0;d<h.length;d++){var p=h[d];if(!a.has(p)){a.add(p);var _=ei(p);t.addEventListener(p,Mt,{passive:_});var A=gt.get(p);A===void 0?(document.addEventListener(p,Mt,{passive:_}),gt.set(p,1)):gt.set(p,A+1)}}};f(nn(ti)),zn.add(f);var o=void 0,c=Hs(()=>{var h=n??t.appendChild(Je());return Fs(h,{pending:()=>{}},d=>{if(s){sr({});var p=R;p.c=s}i&&(r.$$events=i),o=e(d,r)||{},s&&ir()}),()=>{for(var d of a){t.removeEventListener(d,Mt);var p=gt.get(d);--p===0?(document.removeEventListener(d,Mt),gt.delete(d)):gt.set(d,p)}zn.delete(f),h!==n&&h.parentNode?.removeChild(h)}});return ai.set(o,c),o}let ai=new WeakMap;class li{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#i=()=>{var t=S;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Sn(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#e){if(this.#e.delete(s),s===t)break;const a=this.#r.get(l);a&&(z(a.effect),this.#r.delete(l))}for(const[s,l]of this.#t){if(s===n||this.#n.has(s))continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var o=document.createDocumentFragment();Tr(l,o),o.append(Je()),this.#r.set(s,{effect:l,fragment:o})}else z(l);this.#n.delete(s),this.#t.delete(s)};this.#o||!r?(this.#n.add(s),it(l,a,!1)):a()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(z(i.effect),this.#r.delete(r))};ensure(t,n){var r=S,i=mr();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),l=Je();s.append(l),this.#r.set(t,{effect:ne(()=>n(l)),fragment:s})}else this.#t.set(t,ne(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[a,f]of this.#t)a===t?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[a,f]of this.#r)a===t?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.oncommit(this.#i),r.ondiscard(this.#s)}else this.#i()}}function M(e,t,n=!1){var r=new li(e),i=n?bt:0;function s(l,a){r.ensure(l,a)}An(()=>{var l=!1;t((a,f=!0)=>{l=!0,s(f,a)}),l||s(!1,null)},i)}function Xt(e,t){return t}function oi(e,t,n){for(var r=[],i=t.length,s,l=t.length,a=0;a<i;a++){let h=t[a];it(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var d=e.outrogroups;wn(nn(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=r.length===0&&n!==null;if(f){var o=n,c=o.parentNode;Bs(c),c.append(o),e.items.clear()}wn(t,!f)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function wn(e,t=!0){for(var n=0;n<e.length;n++)z(e[n],t)}var Yn;function Zt(e,t,n,r,i,s=null){var l=e,a=new Map;{var f=e;l=f.appendChild(Je())}var o=null,c=fr(()=>{var T=n();return Xn(T)?T:T==null?[]:nn(T)}),h,d=!0;function p(){A.fallback=o,fi(A,h,l,t,r),o!==null&&(h.length===0?(o.f&We)===0?Sn(o):(o.f^=We,Ct(o,null,l)):it(o,()=>{o=null}))}var _=An(()=>{h=u(c);for(var T=h.length,X=new Set,C=S,Qe=mr(),Y=0;Y<T;Y+=1){var se=h[Y],qe=r(se,Y),V=d?null:a.get(qe);V?(V.v&&xt(V.v,se),V.i&&xt(V.i,Y),Qe&&C.skipped_effects.delete(V.e)):(V=ui(a,d?l:Yn??=Je(),se,qe,Y,i,t,n),d||(V.e.f|=We),a.set(qe,V)),X.add(qe)}if(T===0&&s&&!o&&(d?o=ne(()=>s(l)):(o=ne(()=>s(Yn??=Je())),o.f|=We)),!d)if(Qe){for(const[ie,Ut]of a)X.has(ie)||C.skipped_effects.add(Ut.e);C.oncommit(p),C.ondiscard(()=>{})}else p();u(c)}),A={effect:_,items:a,outrogroups:null,fallback:o};d=!1}function fi(e,t,n,r,i){var s=t.length,l=e.items,a=e.effect.first,f,o=null,c=[],h=[],d,p,_,A;for(A=0;A<s;A+=1){if(d=t[A],p=i(d,A),_=l.get(p).e,e.outrogroups!==null)for(const ie of e.outrogroups)ie.pending.delete(_),ie.done.delete(_);if((_.f&We)!==0)if(_.f^=We,_===a)Ct(_,null,n);else{var T=o?o.next:a;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Ke(e,o,_),Ke(e,_,T),Ct(_,T,n),o=_,c=[],h=[],a=o.next;continue}if((_.f&$)!==0&&Sn(_),_!==a){if(f!==void 0&&f.has(_)){if(c.length<h.length){var X=h[0],C;o=X.prev;var Qe=c[0],Y=c[c.length-1];for(C=0;C<c.length;C+=1)Ct(c[C],X,n);for(C=0;C<h.length;C+=1)f.delete(h[C]);Ke(e,Qe.prev,Y.next),Ke(e,o,Qe),Ke(e,Y,X),a=X,o=Y,A-=1,c=[],h=[]}else f.delete(_),Ct(_,a,n),Ke(e,_.prev,_.next),Ke(e,_,o===null?e.effect.first:o.next),Ke(e,o,_),o=_;continue}for(c=[],h=[];a!==null&&a!==_;)(f??=new Set).add(a),h.push(a),a=a.next;if(a===null)continue}(_.f&We)===0&&c.push(_),o=_,a=_.next}if(e.outrogroups!==null){for(const ie of e.outrogroups)ie.pending.size===0&&(wn(nn(ie.done)),e.outrogroups?.delete(ie));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||f!==void 0){var se=[];if(f!==void 0)for(_ of f)(_.f&$)===0&&se.push(_);for(;a!==null;)(a.f&$)===0&&a!==e.fallback&&se.push(a),a=a.next;var qe=se.length;if(qe>0){var V=s===0?n:null;oi(e,se,V)}}}function ui(e,t,n,r,i,s,l,a){var f=(l&gs)!==0?(l&ws)===0?ve(n,!1,!1):ut(n):null,o=(l&ys)!==0?ut(i):null;return{v:f,i:o,e:ne(()=>(s(t,f??n,o??i,a),()=>{e.delete(r)}))}}function Ct(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&We)===0?t.nodes.start:n;r!==null;){var l=Bt(r);if(s.before(r),r===i)return;r=l}}function Ke(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Dr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Dr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ci(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Dr(e))&&(r&&(r+=" "),r+=t);return r}function vi(e){return typeof e=="object"?ci(e):e??""}const Kn=[...` 	
\r\f¬†\v\uFEFF`];function di(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var a=l+s;(l===0||Kn.includes(r[l-1]))&&(a===r.length||Kn.includes(r[a]))?r=(l===0?"":r.substring(0,l))+r.substring(a+1):l=a}}return r===""?null:r}function _i(e,t){return e==null?null:String(e)}function Re(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var a=di(n,r,s);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(s&&i!==s)for(var f in s){var o=!!s[f];(i==null||o!==!!i[f])&&e.classList.toggle(f,o)}return s}function Wn(e,t,n,r){var i=e.__style;if(i!==t){var s=_i(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}function hi(e=!1){const t=R,n=t.l.u;if(!n)return;let r=()=>Js(t.s);if(e){let i=0,s={};const l=xn(()=>{let a=!1;const f=t.s;for(const o in f)f[o]!==s[o]&&(s[o]=f[o],a=!0);return a&&i++,i});r=()=>u(l)}n.b.length&&Us(()=>{$n(t,r),dn(n.b)}),mn(()=>{const i=Rn(()=>n.m.map(as));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&mn(()=>{$n(t,r),dn(n.a)})}function $n(e,t){if(e.l.s)for(const n of e.l.s)u(n);t()}function pi(e){R===null&&os(),Lt&&R.l!==null?mi(R).m.push(e):mn(()=>{const t=Rn(e);if(typeof t=="function")return t})}function mi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const gi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(gi);Ts();var yi=x('<span class="mail-badge svelte-1n46o8q"> </span>'),wi=x('<span class="town-name svelte-1n46o8q"> </span>'),bi=x('<span class="theme-icon svelte-1n46o8q">‚òÄÔ∏è</span>'),Ei=x('<span class="theme-icon svelte-1n46o8q">üåô</span>'),qi=x('<div class="loading svelte-1n46o8q"><div class="spinner"></div> <p>Loading town status...</p></div>'),xi=x('<div class="error-container svelte-1n46o8q"><div class="error-icon svelte-1n46o8q">‚ö†Ô∏è</div> <p class="error-text svelte-1n46o8q"> </p> <button class="btn btn-primary svelte-1n46o8q">Retry</button></div>'),ki=x('<span class="mail-badge small svelte-1n46o8q"> </span>'),Ti=x('<div class="agent-item svelte-1n46o8q"><span class="agent-icon svelte-1n46o8q"> </span> <span class="agent-name svelte-1n46o8q"> </span> <span></span> <!></div>'),Ai=x('<section class="card"><h2 class="card-header">Global Agents</h2> <div class="agent-list svelte-1n46o8q"></div></section>'),Si=x('<span class="service-badge svelte-1n46o8q" title="Witness">üëÄ</span>'),Ri=x('<span class="service-badge svelte-1n46o8q" title="Refinery">‚öôÔ∏è</span>'),Mi=x('<span class="work-title mono svelte-1n46o8q"> </span>'),Ci=x('<div class="agent-row svelte-1n46o8q"><span class="agent-icon small svelte-1n46o8q"> </span> <span class="agent-name svelte-1n46o8q"> </span> <span></span> <!></div>'),Fi=x('<div class="rig-agents svelte-1n46o8q"></div>'),Di=x('<div class="card rig-card svelte-1n46o8q"><div class="rig-header svelte-1n46o8q"><h3 class="rig-name svelte-1n46o8q"> </h3> <div class="rig-services svelte-1n46o8q"><!> <!></div></div> <p class="rig-path mono text-muted svelte-1n46o8q"> </p> <div class="rig-stats svelte-1n46o8q"><span> </span> <span> </span></div> <!></div>'),Ni=x('<section class="summary-grid svelte-1n46o8q"><div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Rigs</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Polecats</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Crews</div></div> <div class="card summary-card svelte-1n46o8q"><div class="summary-value svelte-1n46o8q"> </div> <div class="summary-label svelte-1n46o8q">Active Hooks</div></div></section> <!> <section class="rigs-section"><h2 class="section-header svelte-1n46o8q">Rigs</h2> <div class="rigs-grid svelte-1n46o8q"></div></section>',1),Oi=x('<div class="loading-inline svelte-1n46o8q"><div class="spinner small svelte-1n46o8q"></div> <span>Loading messages...</span></div>'),Ii=x('<div class="error-inline svelte-1n46o8q"><span> </span> <button class="btn btn-sm svelte-1n46o8q">Retry</button></div>'),Pi=x('<div class="empty-state svelte-1n46o8q"><span class="empty-icon svelte-1n46o8q">üì≠</span> <p>No messages</p></div>'),Li=x('<span class="pin-icon svelte-1n46o8q">üìå</span>'),ji=x('<button><div class="mail-item-header svelte-1n46o8q"><span class="mail-from svelte-1n46o8q"> </span> <span class="mail-time svelte-1n46o8q"> </span></div> <div class="mail-subject svelte-1n46o8q"><!> <span> </span></div> <div class="mail-preview svelte-1n46o8q"> </div></button>'),Bi=x('<div class="mail-items svelte-1n46o8q"></div>'),Vi=x("<div><strong>CC:</strong> </div>"),Ui=x('<div class="mail-detail-header svelte-1n46o8q"><button class="btn-back svelte-1n46o8q">‚Üê Back</button> <div class="mail-detail-meta svelte-1n46o8q"><span> </span> <span class="badge"> </span></div></div> <div class="mail-detail-content svelte-1n46o8q"><h2 class="mail-detail-subject svelte-1n46o8q"> </h2> <div class="mail-detail-info svelte-1n46o8q"><div><strong>From:</strong> </div> <div><strong>To:</strong> </div> <div><strong>Date:</strong> </div> <!></div> <div class="mail-detail-body svelte-1n46o8q"><pre class="svelte-1n46o8q"> </pre></div></div>',1),Hi=x('<div class="empty-state svelte-1n46o8q"><span class="empty-icon svelte-1n46o8q">üìß</span> <p>Select a message to read</p></div>'),zi=x('<div class="mail-container svelte-1n46o8q"><div><div class="mail-list-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Inbox</h2> <button class="btn btn-icon svelte-1n46o8q" title="Refresh">üîÑ</button></div> <!></div> <div><!></div></div>'),Gi=x('<div class="app svelte-1n46o8q"><header class="header svelte-1n46o8q"><div class="header-left svelte-1n46o8q"><div class="logo svelte-1n46o8q"><span class="logo-icon svelte-1n46o8q">‚õΩ</span> <h1 class="svelte-1n46o8q">Gas Town</h1></div> <nav class="nav-tabs svelte-1n46o8q"><button>Dashboard</button> <button>Mail <!></button></nav></div> <div class="header-right svelte-1n46o8q"><!> <button class="theme-toggle svelte-1n46o8q" title="Toggle theme"><!></button></div></header> <main class="main svelte-1n46o8q"><!></main> <footer class="footer svelte-1n46o8q"><p class="text-muted">Gas Town Dashboard v0.1.1</p></footer></div>');function Yi(e,t){sr(t,!1);let n=ve(null),r=ve(!0),i=ve(null),s=ve("dashboard"),l=ve("dark"),a=ve([]),f=ve(!1),o=ve(null),c=ve(null),h=ve({total:0,unread:0});function d(){const m=localStorage.getItem("gt-theme");m==="light"||m==="dark"?k(l,m):window.matchMedia("(prefers-color-scheme: light)").matches&&k(l,"light"),_()}function p(){k(l,u(l)==="dark"?"light":"dark"),localStorage.setItem("gt-theme",u(l)),_()}function _(){document.documentElement.setAttribute("data-theme",u(l))}async function A(){try{const b=await(await fetch("/api/v1/status")).json();b.success?(k(n,b.data),k(i,null)):k(i,b.error?.message||"Unknown error")}catch(m){k(i,m instanceof Error?m.message:"Failed to fetch status")}finally{k(r,!1)}}async function T(){k(f,!0),k(o,null);try{const[m,b]=await Promise.all([fetch("/api/v1/mail"),fetch("/api/v1/mail/count")]),Z=await m.json(),_e=await b.json();Z.success?k(a,Z.data||[]):k(o,Z.error?.message||"Failed to load messages"),_e.success&&k(h,_e.data)}catch(m){k(o,m instanceof Error?m.message:"Failed to fetch mail")}finally{k(f,!1)}}async function X(m){try{await fetch(`/api/v1/mail/${m}/read`,{method:"POST"}),await T()}catch(b){console.error("Failed to mark as read:",b)}}function C(m){k(c,m),m.read||X(m.id)}function Qe(m){const b=new Date(m),_e=new Date().getTime()-b.getTime(),xe=Math.floor(_e/6e4),J=Math.floor(_e/36e5),ae=Math.floor(_e/864e5);return xe<1?"just now":xe<60?`${xe}m ago`:J<24?`${J}h ago`:ae<7?`${ae}d ago`:b.toLocaleDateString()}function Y(m){return{urgent:"priority-urgent",high:"priority-high",normal:"priority-normal",low:"priority-low"}[m]||"priority-normal"}pi(()=>{d(),A(),T();const m=setInterval(A,5e3),b=setInterval(T,3e4);return()=>{clearInterval(m),clearInterval(b)}});function se(m){return{mayor:"üë®‚Äç‚öñÔ∏è",deacon:"‚õ™",witness:"üëÄ",refinery:"‚öôÔ∏è",polecat:"üê±",crew:"üë∑"}[m]||"ü§ñ"}function qe(m){return{mayor:"var(--color-mayor)",deacon:"var(--color-deacon)",witness:"var(--color-witness)",refinery:"var(--color-refinery)",polecat:"var(--color-polecat)",crew:"var(--color-crew)"}[m]||"var(--color-gray)"}hi();var V=Gi(),ie=v(V),Ut=v(ie),Nr=g(v(Ut),2),ln=v(Nr);let Mn;var on=g(ln,2);let Cn;var Or=g(v(on));{var Ir=m=>{var b=yi(),Z=v(b);j(()=>E(Z,u(h).unread)),y(m,b)};M(Or,m=>{u(h).unread>0&&m(Ir)})}var Pr=g(Ut,2),Fn=v(Pr);{var Lr=m=>{var b=wi(),Z=v(b);j(()=>E(Z,u(n).name)),y(m,b)};M(Fn,m=>{u(n)&&m(Lr)})}var Dn=g(Fn,2),jr=v(Dn);{var Br=m=>{var b=bi();y(m,b)},Vr=m=>{var b=Ei();y(m,b)};M(jr,m=>{u(l)==="dark"?m(Br):m(Vr,!1)})}var Ur=g(ie,2),Hr=v(Ur);{var zr=m=>{var b=mt(),Z=Ge(b);{var _e=J=>{var ae=qi();y(J,ae)},xe=J=>{var ae=mt(),Ht=Ge(ae);{var zt=Oe=>{var et=xi(),vt=g(v(et),2),dt=v(vt),Ie=g(vt,2);j(()=>E(dt,u(i))),Ye("click",Ie,A),y(Oe,et)},fn=Oe=>{var et=mt(),vt=Ge(et);{var dt=Ie=>{var Gt=Ni(),Yt=Ge(Gt),Kt=v(Yt),P=v(Kt),le=v(P),tt=g(Kt,2),_t=v(tt),At=v(_t),K=g(tt,2),ke=v(K),Pe=v(ke),nt=g(K,2),rt=v(nt),oe=v(rt),Te=g(Yt,2);{var ht=fe=>{var F=Ai(),he=g(v(F),2);Zt(he,5,()=>u(n).agents,Xt,(je,U)=>{var Be=Ti(),pe=v(Be),Ae=v(pe),Ve=g(pe,2),Q=v(Ve),ue=g(Ve,2);let Se;var st=g(ue,2);{var me=ee=>{var Ue=ki(),un=v(Ue);j(()=>E(un,u(U).unread_mail)),y(ee,Ue)};M(st,ee=>{u(U).unread_mail>0&&ee(me)})}j((ee,Ue)=>{Wn(pe,`color: ${ee??""}`),E(Ae,Ue),E(Q,u(U).name),Se=Re(ue,1,"status-dot",null,Se,{running:u(U).running,stopped:!u(U).running})},[()=>qe(u(U).role),()=>se(u(U).role)]),y(je,Be)}),y(fe,F)};M(Te,fe=>{u(n).agents?.length>0&&fe(ht)})}var L=g(Te,2),Le=g(v(L),2);Zt(Le,5,()=>u(n).rigs??[],Xt,(fe,F)=>{var he=Di(),je=v(he),U=v(je),Be=v(U),pe=g(U,2),Ae=v(pe);{var Ve=ce=>{var pt=Si();y(ce,pt)};M(Ae,ce=>{u(F).has_witness&&ce(Ve)})}var Q=g(Ae,2);{var ue=ce=>{var pt=Ri();y(ce,pt)};M(Q,ce=>{u(F).has_refinery&&ce(ue)})}var Se=g(je,2),st=v(Se),me=g(Se,2),ee=v(me),Ue=v(ee),un=g(ee,2),Yr=v(un),Kr=g(me,2);{var Wr=ce=>{var pt=Fi();Zt(pt,5,()=>u(F).agents,Xt,($r,He)=>{var Nn=Ci(),cn=v(Nn),Xr=v(cn),On=g(cn,2),Zr=v(On),In=g(On,2);let Pn;var Jr=g(In,2);{var Qr=St=>{var Wt=Mi(),es=v(Wt);j(()=>E(es,u(He).work_title)),y(St,Wt)};M(Jr,St=>{u(He).has_work&&u(He).work_title&&St(Qr)})}j((St,Wt)=>{Wn(cn,`color: ${St??""}`),E(Xr,Wt),E(Zr,u(He).name),Pn=Re(In,1,"status-dot",null,Pn,{running:u(He).running,working:u(He).has_work})},[()=>qe(u(He).role),()=>se(u(He).role)]),y($r,Nn)}),y(ce,pt)};M(Kr,ce=>{u(F).agents&&u(F).agents.length>0&&ce(Wr)})}j(()=>{E(Be,u(F).name),E(st,u(F).path),E(Ue,`${u(F).polecat_count??""} polecats`),E(Yr,`${u(F).crew_count??""} crews`)}),y(fe,he)}),j(()=>{E(le,u(n).summary.rig_count),E(At,u(n).summary.polecat_count),E(Pe,u(n).summary.crew_count),E(oe,u(n).summary.active_hooks)}),y(Ie,Gt)};M(vt,Ie=>{u(n)&&Ie(dt)},!0)}y(Oe,et)};M(Ht,Oe=>{u(i)?Oe(zt):Oe(fn,!1)},!0)}y(J,ae)};M(Z,J=>{u(r)?J(_e):J(xe,!1)})}y(m,b)},Gr=m=>{var b=mt(),Z=Ge(b);{var _e=xe=>{var J=zi(),ae=v(J);let Ht;var zt=v(ae),fn=g(v(zt),2),Oe=g(zt,2);{var et=P=>{var le=Oi();y(P,le)},vt=P=>{var le=mt(),tt=Ge(le);{var _t=K=>{var ke=Ii(),Pe=v(ke),nt=v(Pe),rt=g(Pe,2);j(()=>E(nt,`‚ö†Ô∏è ${u(o)??""}`)),Ye("click",rt,T),y(K,ke)},At=K=>{var ke=mt(),Pe=Ge(ke);{var nt=oe=>{var Te=Pi();y(oe,Te)},rt=oe=>{var Te=Bi();Zt(Te,5,()=>u(a),Xt,(ht,L)=>{var Le=ji();let fe;var F=v(Le),he=v(F),je=v(he),U=g(he,2),Be=v(U),pe=g(F,2),Ae=v(pe);{var Ve=me=>{var ee=Li();y(me,ee)};M(Ae,me=>{u(L).pinned&&me(Ve)})}var Q=g(Ae,2),ue=v(Q),Se=g(pe,2),st=v(Se);j((me,ee,Ue)=>{fe=Re(Le,1,"mail-item svelte-1n46o8q",null,fe,{unread:!u(L).read,selected:u(c)?.id===u(L).id}),E(je,u(L).from),E(Be,me),Re(Q,1,ee,"svelte-1n46o8q"),E(ue,u(L).subject),E(st,`${Ue??""}${u(L).body.length>80?"...":""}`)},[()=>Qe(u(L).timestamp),()=>vi(Y(u(L).priority)),()=>u(L).body.slice(0,80)]),Ye("click",Le,()=>C(u(L))),y(ht,Le)}),y(oe,Te)};M(Pe,oe=>{u(a).length===0?oe(nt):oe(rt,!1)},!0)}y(K,ke)};M(tt,K=>{u(o)?K(_t):K(At,!1)},!0)}y(P,le)};M(Oe,P=>{u(f)&&u(a).length===0?P(et):P(vt,!1)})}var dt=g(ae,2);let Ie;var Gt=v(dt);{var Yt=P=>{var le=Ui(),tt=Ge(le),_t=v(tt),At=g(_t,2),K=v(At),ke=v(K),Pe=g(K,2),nt=v(Pe),rt=g(tt,2),oe=v(rt),Te=v(oe),ht=g(oe,2),L=v(ht),Le=g(v(L)),fe=g(L,2),F=g(v(fe)),he=g(fe,2),je=g(v(he)),U=g(he,2);{var Be=Q=>{var ue=Vi(),Se=g(v(ue));j(st=>E(Se,` ${st??""}`),[()=>u(c).cc.join(", ")]),y(Q,ue)};M(U,Q=>{u(c).cc&&u(c).cc.length>0&&Q(Be)})}var pe=g(ht,2),Ae=v(pe),Ve=v(Ae);j((Q,ue)=>{Re(K,1,`badge ${Q??""}`,"svelte-1n46o8q"),E(ke,u(c).priority),E(nt,u(c).type),E(Te,u(c).subject),E(Le,` ${u(c).from??""}`),E(F,` ${u(c).to??""}`),E(je,` ${ue??""}`),E(Ve,u(c).body)},[()=>Y(u(c).priority),()=>new Date(u(c).timestamp).toLocaleString()]),Ye("click",_t,()=>k(c,null)),y(P,le)},Kt=P=>{var le=Hi();y(P,le)};M(Gt,P=>{u(c)?P(Yt):P(Kt,!1)})}j(()=>{Ht=Re(ae,1,"mail-list svelte-1n46o8q",null,Ht,{"has-selected":u(c)}),Ie=Re(dt,1,"mail-detail svelte-1n46o8q",null,Ie,{visible:u(c)})}),Ye("click",fn,T),y(xe,J)};M(Z,xe=>{u(s)==="mail"&&xe(_e)},!0)}y(m,b)};M(Hr,m=>{u(s)==="dashboard"?m(zr):m(Gr,!1)})}j(()=>{Mn=Re(ln,1,"nav-tab svelte-1n46o8q",null,Mn,{active:u(s)==="dashboard"}),Cn=Re(on,1,"nav-tab svelte-1n46o8q",null,Cn,{active:u(s)==="mail"})}),Ye("click",ln,()=>k(s,"dashboard")),Ye("click",on,()=>{k(s,"mail"),T()}),Ye("click",Dn,p),y(e,V),ir()}si(Yi,{target:document.getElementById("app")});
